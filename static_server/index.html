<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<h1 id="titulo">This is a Heading</h1>
<p>This is a paragraph.</p>
<button id="boton">Clicka aquí</button>

<script type="module">
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";

  // Aquestes credencials te la donarán al crear la teva aplicació web dins del teu projecte (Tercer botó dins de la pagina principal)
  const firebaseConfig = {
    apiKey: "XXXXXXXXXXX",
    authDomain: "XXXXXXXX",
    projectId: "lXXXXXX",
    storageBucket: "XXXXXXXXX",
    messagingSenderId: "XXXXXXXXX",
    appId: "XXXXXXXXXXX",
    measurementId: "XXXXXXXXXX"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);


  // NOU CODI
  const db = getFirestore(app);

  document.querySelector('#boton').addEventListener('click', async () => {
    document.querySelector('#titulo').textContent = 'Nuevo texto';
    
    // NOU CODI
    const datos = { message: "Nuevo dato agregado" };
    await addDoc(collection(db, "prueba"), datos);

  });
</script>
</body>
</html>
